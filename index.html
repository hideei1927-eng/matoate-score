<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta name="theme-color" content="#00B280" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="的当てスコア" />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="icons/favicon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.svg" />
    <link rel="stylesheet" href="styles.css" />
    <title>的当てスコア（東北新幹線）</title>
  </head>
  <body>
    <main class="app">
      <header class="card hero">
        <h1>的当てスコア（東北新幹線）</h1>
        <p class="subtitle">E5系はやぶさ・運転席モード</p>
      </header>

      <section id="settingsSection" class="card">
        <h2>試合設定</h2>
        <div class="form-grid">
          <label>
            プレイヤー数
            <select id="playerCount">
              <option value="2">2人</option>
              <option value="3">3人</option>
            </select>
          </label>
          <label>
            プレイヤー１
            <input id="player1Name" type="text" maxlength="20" />
          </label>
          <label>
            プレイヤー２
            <input id="player2Name" type="text" maxlength="20" />
          </label>
          <label id="player3Wrap">
            プレイヤー３
            <input id="player3Name" type="text" maxlength="20" />
          </label>
          <label>
            1セット投球数
            <input id="throwsPerSet" type="number" min="1" max="30" step="1" />
          </label>
          <label>
            セット数（1〜4）
            <select id="setCount">
              <option value="1">1</option>
              <option value="2">2</option>
              <option value="3">3</option>
              <option value="4">4</option>
            </select>
          </label>
          <label class="toggle-item">
            <span>子どもモード</span>
            <input id="kidsMode" type="checkbox" />
          </label>
          <label class="toggle-item">
            <span>演出ON/OFF</span>
            <input id="effectsOn" type="checkbox" />
          </label>
          <label class="toggle-item">
            <span>サウンドON/OFF</span>
            <input id="soundOn" type="checkbox" />
          </label>
          <label>
            駅名表示モード
            <select id="stationLabelMode">
              <option value="kana">ひらがな</option>
              <option value="kanji">漢字</option>
              <option value="both">併記</option>
            </select>
          </label>
        </div>
        <div class="actions">
          <button id="startMatchButton">試合開始</button>
          <button id="applySettingsButton" class="secondary">設定を保存</button>
        </div>
      </section>

      <section id="hudSection" class="hud hidden" aria-live="polite">
        <div class="hud-top">
          <div>
            <p id="hudCurrentPlayer" class="hud-player"></p>
            <p id="hudThrow" class="hud-throw"></p>
          </div>
          <button id="hudUndoButton" class="secondary small-btn">Undo</button>
        </div>
        <div class="hud-row">
          <span>現在合計: <strong id="hudTotal">0</strong>点</span>
        </div>
        <div class="hud-row">
          <span id="hudStationInfo"></span>
        </div>
      </section>

      <section id="inputSection" class="card hidden">
        <h2>得点入力</h2>
        <p id="playTurnInfo" class="big-text"></p>
        <div id="scoreButtons" class="score-grid" aria-label="得点入力ボタン"></div>
      </section>

      <section id="trainSection" class="card hidden">
        <div class="train-header">
          <h2>新幹線進行</h2>
          <button id="toggleStationDetailButton" class="secondary small-btn">詳細を表示</button>
        </div>
        <div id="trainBoard"></div>
      </section>

      <section id="statusSection" class="card">
        <h2>試合結果</h2>
        <p id="turnInfo" class="big-text"></p>
        <p id="matchInfo"></p>
        <p id="winnerInfo" class="winner"></p>
        <div class="actions">
          <button id="shareResultButton" class="secondary">結果を共有</button>
          <button id="resetMatchButton" class="danger">試合をリセット</button>
          <button id="showSettingsButton" class="secondary">設定へ戻る</button>
        </div>
      </section>

      <section id="scoreboardSection" class="card">
        <h2>セット集計</h2>
        <div id="scoreboard" class="scoreboard"></div>
      </section>

      <section id="badgeSection" class="card">
        <h2>バッジ</h2>
        <div id="badgeList" class="badge-list"></div>
      </section>

      <section id="savedSection" class="card">
        <h2>保存データ</h2>
        <p id="bestScoreInfo"></p>
        <div id="lastMatchInfo"></div>
      </section>

      <section id="selfCheckSection" class="card">
        <h2>自己点検（自動）</h2>
        <ul id="selfCheckList" class="check-list"></ul>
      </section>
    </main>

    <div id="toast" class="toast"></div>
    <div id="reaction" class="reaction"></div>
    <div id="confettiLayer" class="confetti-layer" aria-hidden="true"></div>

    <script src="app.js"></script>
  </body>
</html>
